# Генераторы в JavaScript

Генераторы - это специальный тип функций в JavaScript, которые можно приостанавливать и возобновлять, сохраняя при этом контекст выполнения.

## Для чего нужны генераторы

1. Ленивые вычисления: Генераторы позволяют генерировать значения по требованию, а не все сразу.
2. Работа с бесконечными последовательностями: Можно создавать бесконечные потоки данных.
3. Упрощение асинхронного кода: Вместо колбэков можно писать код, который выглядит как синхронный.
4. Итераторы: Генераторы упрощают создание итераторов, так как они автоматически реализуют протокол Iterable.

## Синтаксис создания

Генераторы создаются с помощью функции-генератора, которая обозначается звёздочкой после function:
function\* generatorFunction() {
// тело генератора
}

Или для методов объекта и классов:

```
const obj = {
*generatorMethod() {
// тело генератора
}
}

class MyClass {
*generatorMethod() {
// тело генератора
}
}
```

## Принцип работы

1. При вызове функция-генератор не выполняет свой код сразу, а возвращает специальный объект - генератор.
2. Код генератора выполняется только при вызове метода next() у генератора.
3. При достижении ключевого слова yield выполнение приостанавливается, и значение после yield возвращается наружу.
4. При следующем вызове next() выполнение возобновляется с того же места.

### Пример:

```
function* numberGenerator() {
  yield 1;
  yield 2;
  yield 3;
}

const generator = numberGenerator();

console.log(generator.next()); // { value: 1, done: false }
console.log(generator.next()); // { value: 2, done: false }
console.log(generator.next()); // { value: 3, done: false }
console.log(generator.next()); // { value: undefined, done: true }
```

## Особенности

- Генераторы совместимы с for...of:
  for (const num of numberGenerator()) {
  console.log(num); // 1, затем 2, затем 3
  }

- Можно передавать значения в генератор через next(value):
  function* generator() {
  const x = yield 1;
  const y = yield x + 2;
  yield y * 3;
  }

const gen = generator();
console.log(gen.next()); // { value: 1, done: false }
console.log(gen.next(10)); // { value: 12, done: false } (10 + 2)
console.log(gen.next(7)); // { value: 21, done: false } (7 \* 3)

- Генераторы могут быть бесконечными:
  function\* infiniteSequence() {
  let i = 0;
  while (true) {
  yield i++;
  }
  }

Генераторы - мощный инструмент, который особенно полезен для работы с асинхронными операциями, обработки больших данных и создания пользовательских итераторов.
